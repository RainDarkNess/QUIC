%vboxpostinstall.sh%#!/bin/bash## @file# Post installation script template for debian-like distros.## Note! This script expects to be running w/o chroot.# Note! When using ubiquity, this is run after installation logs have#       been copied to /var/log/installation.### Copyright (C) 2017-2023 Oracle and/or its affiliates.## This file is part of VirtualBox base platform packages, as# available from https://www.virtualbox.org.## This program is free software; you can redistribute it and/or# modify it under the terms of the GNU General Public License# as published by the Free Software Foundation, in version 3 of the# License.## This program is distributed in the hope that it will be useful, but# WITHOUT ANY WARRANTY; without even the implied warranty of# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU# General Public License for more details.## You should have received a copy of the GNU General Public License# along with this program; if not, see <https://www.gnu.org/licenses>.## SPDX-License-Identifier: GPL-3.0-only### Globals.#MY_TARGET="/target"MY_LOGFILE="${MY_TARGET}/var/log/vboxpostinstall.log"MY_CHROOT_CDROM="/cdrom"MY_CDROM_NOCHROOT="/cdrom"MY_EXITCODE=0MY_DEBUG="" # "yes"## Do we need to exec using target bash?  If so, we must do that early# or ash will bark 'bad substitution' and fail.#if [ "$1" = "--need-target-bash" ]; then    # Try figure out which directories we might need in the library path.    if [ -z "${LD_LIBRARY_PATH}" ]; then        LD_LIBRARY_PATH="${MY_TARGET}/lib"    fi    for x in \        ${MY_TARGET}/lib \        ${MY_TARGET}/usr/lib \        ${MY_TARGET}/lib/*linux-gnu/ \        ${MY_TARGET}/lib32/ \        ${MY_TARGET}/lib64/ \        ${MY_TARGET}/usr/lib/*linux-gnu/ \        ${MY_TARGET}/usr/lib32/ \        ${MY_TARGET}/usr/lib64/ \        ;    do        if [ -e "$x" ]; then LD_LIBRARY_PATH="${LD_LIBRARY_PATH}:${x}"; fi;    done    export LD_LIBRARY_PATH    # Append target bin directories to the PATH as busybox may not have tee.    PATH="${PATH}:${MY_TARGET}/bin:${MY_TARGET}/usr/bin:${MY_TARGET}/sbin:${MY_TARGET}/usr/sbin"    export PATH    # Drop the --need-target-bash argument and re-exec.    shift    echo "******************************************************************************" >> "${MY_LOGFILE}"    echo "** Relaunching using ${MY_TARGET}/bin/bash $0 $*" >> "${MY_LOGFILE}"    echo "**   LD_LIBRARY_PATH=${LD_LIBRARY_PATH}" >> "${MY_LOGFILE}"    echo "**              PATH=${PATH}" >> "${MY_LOGFILE}"    exec "${MY_TARGET}/bin/bash" "$0" "$@"fi## Commands.## Logs execution of a command.log_command(){    echo "--------------------------------------------------" >> "${MY_LOGFILE}"    echo "** Date:      
